<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>罗盘</title>

    <link rel="stylesheet" href="taiji.css">
    <style>
        *, body {
            margin: 0px;
            padding: 0px;
        }

        .container {
            width: 100%;
            height: 100vh;
            background: black url("stars.jpg") no-repeat center;
            background-size: 100% auto;
            position: relative; /* 使用相对定位，以便 .main 可以绝对定位 */
            display: flex; /* 使用 Flexbox 布局 */
            justify-content: center; /* 水平居中 */
            align-items: center; /* 垂直居中 */
            box-sizing: border-box; /* 防止内边距和边框影响尺寸 */
        }

        .main {
            width: 900px;
            height: 900px;
            color: #fff;
            font-size: 18px;
            overflow: hidden;
            margin: 0; /* 移除默认的上下 margin */
            position: relative; /* 保持相对定位 */
        }

        .center {
            width: 50px;
            height: 50px;
        }

        .level {
            position: absolute;
            transition: all 1s;
            top: 50%;
            left: 50%;
            border: 1px solid #fff;
            border-radius: 50%;
        }

        .floor1 {
            width: 110px;
            height: 110px;
        }

        .floor2 {
            width: 170px;
            height: 170px;
        }

        .floor3 {
            width: 230px;
            height: 230px;
        }

        .floor3:nth-child(odd) {
            /*color: red;*/
            color: #fff;
        }

        .floor3:is(:nth-child(2), :nth-child(6), :nth-child(8), :nth-child(12)
        , :nth-child(14), :nth-child(18), :nth-child(20), :nth-child(24)) {
            /*color: blue;*/
            color: #fff;
        }

        .floor4 {
            width: 290px;
            height: 290px;
        }

        .floor5 {
            width: 350px;
            height: 350px;
        }

        .floor6 {
            width: 410px;
            height: 410px;
        }

        .floor7 {
            width: 470px;
            height: 470px;
        }
        .floor8 {
            width: 530px;
            height: 530px;
        }
        .floor9 {
            width: 590px;
            height: 590px;
        }
        .floor10 {
            width: 650px;
            height: 650px;
        }

        .time_black {
            position: absolute;
            width: 40px;
            height: 20px;
            text-align: center;
            top: 50%;
            left: 50%;
            padding: 10px 0px;

        }

        .time_black span {
            display: inline-block;
            transform: rotate(-90deg);
            transform-origin: 50% 50%;
        }

        .circle{
            position: absolute;
            border-radius: 50%;
            width: 100%;
            height: 100%;
        }

        .one{
            z-index: -1;
        }

        .position-box{
            position: relative;
            width: 100%;
            height: 100%;
            overflow: hidden;
            border-radius: 50%;
            color: #FFFFFF;
        }
        .position-box .other-item{
            position: absolute;
            transform-origin: left top;
            width: 50%;
            height: 50%;
            left: 50%;
            top: 50%;
        }

        /* 只要部分边框 */
        .other-item::before {
            content: '';
            position: absolute;
            top: calc(100% - 30px);
            left: 0;
            width: 0%;
            height: 100%;
            border-top: 1px solid #fff;
            border-left: 1px solid #fff;
            overflow: hidden;
        }

    </style>
</head>
<body>

<div class="container" id="app">
    <div class="main">
        <div class="center square">
            <div class="rect rect_one">
                <div class="inner_circle rect_one_one">
                    <div class="dot rect_one_two"></div>
                </div>
            </div>
            <div class="rect rect_two">
                <div class="inner_circle rect_two_one">
                    <div class="dot rect_two_two"></div>
                </div>
            </div>
        </div>
        <div class="floor1 level" v-bind:style="{transform:'translate(-50%, -50%) rotate('+floor1Rotate+'deg)'}">
            <div class="time_black" v-for="(e,index) of floor1"
                 :class="{'active': e.active}"
                 v-bind:style="{transform: 'translate(-50%, -50%) translateX('+e.translateX+'px) translateY('+e.translateY+'px) rotate('+e.rotate+'deg)'}">
                <span v-text="e.content"></span></div>

            <!-- 这个是为了画圆的等分边框 -->
            <div class="circle">
                <div class="position-box" v-bind:style="{transform:'rotate('+divideCircles8.initAngle+'deg)', '-webkit-transition-duration': times}">
                    <div v-for="(item, index) in divideCircles8.number" class="other-item"
                         v-bind:style="{transform: 'rotate('+divideCircles8.avgAngle*(index)+'deg)' }">
                    </div>
                </div>
            </div>

        </div>
        <div class="floor2 level"
             v-bind:style="{transform:'translate(-50%, -50%) rotate('+floor2Rotate+'deg)'}">
            <div class="time_black" v-for="(e,index) of floor2"
                 :class="{'active': e.active}"
                 v-bind:style="{transform: 'translate(-50%, -50%) translateX('+e.translateX+'px) translateY('+e.translateY+'px) rotate('+e.rotate+'deg)'}">
                <span v-text="e.content"></span></div>

            <div class="circle">
                <div class="position-box" v-bind:style="{transform:'rotate('+divideCircles8.initAngle+'deg)', '-webkit-transition-duration': times}">
                    <div v-for="(item, index) in divideCircles8.number" class="other-item"
                         v-bind:style="{transform: 'rotate('+divideCircles8.avgAngle*(index)+'deg)' }">
                    </div>
                </div>
            </div>

        </div>

        <div class="floor3 level" v-bind:style="{transform:'translate(-50%, -50%) rotate('+floor3Rotate+'deg)'}">
            <div class="time_black mountain-item" v-for="(e,index) of floor3"
                 :class="{'active': e.active}"
                 v-bind:style="{transform: 'translate(-50%, -50%) translateX('+e.translateX+'px) translateY('+e.translateY+'px) rotate('+e.rotate+'deg)'}">
                <span v-text="e.content"></span></div>

            <div class="circle">
                <div class="position-box" v-bind:style="{transform:'rotate('+divideCircles24.initAngle+'deg)', '-webkit-transition-duration': times}">
                    <div v-for="(item, index) in divideCircles24.number" class="other-item"
                         v-bind:style="{transform: 'rotate('+divideCircles24.avgAngle*(index)+'deg)' }">
                    </div>
                </div>
            </div>

        </div>

        <div class="floor4 level" v-bind:style="{transform:'translate(-50%, -50%) rotate('+floor4Rotate+'deg)'}">
            <div class="time_black" v-for="(e,index) of floor4"
                 :class="{'active': e.active}"
                 v-bind:style="{transform: 'translate(-50%, -50%) translateX('+e.translateX+'px) translateY('+e.translateY+'px) rotate('+e.rotate+'deg)'}">
                <span v-text="e.content"></span></div>

            <div class="circle">
                <div class="position-box" v-bind:style="{transform:'rotate('+divideCircles8.initAngle+'deg)', '-webkit-transition-duration': times}">
                    <div v-for="(item, index) in divideCircles8.number" class="other-item"
                         v-bind:style="{transform: 'rotate('+divideCircles8.avgAngle*(index)+'deg)' }">
                    </div>
                </div>
            </div>
        </div>

        <div class="floor5 level" v-bind:style="{transform:'translate(-50%, -50%) rotate('+floor5Rotate+'deg)'}">
            <div class="time_black" v-for="(e,index) of floor5"
                 :class="{'active': e.active}"
                 v-bind:style="{transform: 'translate(-50%, -50%) translateX('+e.translateX+'px) translateY('+e.translateY+'px) rotate('+e.rotate+'deg)'}">
                <span v-text="e.content"></span></div>

            <div class="circle">
                <div class="position-box" v-bind:style="{transform:'rotate('+divideCircles24.initAngle+'deg)', '-webkit-transition-duration': times}">
                    <div v-for="(item, index) in divideCircles24.number" class="other-item"
                         v-bind:style="{transform: 'rotate('+divideCircles24.avgAngle*(index)+'deg)' }">
                    </div>
                </div>
            </div>
        </div>

        <div class="floor6 level" v-bind:style="{transform:'translate(-50%, -50%) rotate('+floor6Rotate+'deg)'}">
            <div class="time_black" v-for="(e,index) of floor6"
                 :class="{'active': e.active}"
                 v-bind:style="{transform: 'translate(-50%, -50%) translateX('+e.translateX+'px) translateY('+e.translateY+'px) rotate('+e.rotate+'deg)'}">
                <span v-text="e.content"></span></div>

            <div class="circle">
                <div class="position-box" v-bind:style="{transform:'rotate('+divideCircles24.initAngle+'deg)', '-webkit-transition-duration': times}">
                    <div v-for="(item, index) in divideCircles24.number" class="other-item"
                         v-bind:style="{transform: 'rotate('+divideCircles24.avgAngle*(index)+'deg)' }">
                    </div>
                </div>
            </div>
        </div>

        <div class="floor7 level" v-bind:style="{transform:'translate(-50%, -50%) rotate('+floor7Rotate+'deg)'}">
            <div class="time_black" v-for="(e,index) of floor7"
                 :class="{'active': e.active}"
                 v-bind:style="{transform: 'translate(-50%, -50%) translateX('+e.translateX+'px) translateY('+e.translateY+'px) rotate('+e.rotate+'deg)'}">
                <span v-text="e.content"></span></div>

            <div class="circle">
                <div class="position-box" v-bind:style="{transform:'rotate('+divideCircles24.initAngle+'deg)', '-webkit-transition-duration': times}">
                    <div v-for="(item, index) in divideCircles24.number" class="other-item"
                         v-bind:style="{transform: 'rotate('+divideCircles24.avgAngle*(index)+'deg)' }">
                    </div>
                </div>
            </div>
        </div>


        <div class="floor8 level" v-bind:style="{transform:'translate(-50%, -50%) rotate('+floor8Rotate+'deg)'}">
            <div class="time_black" v-for="(e,index) of floor8"
                 :class="{'active': e.active}"
                 v-bind:style="{transform: 'translate(-50%, -50%) translateX('+e.translateX+'px) translateY('+e.translateY+'px) rotate('+e.rotate+'deg)'}">
                <span v-text="e.content"></span></div>

            <div class="circle">
                <div class="position-box" v-bind:style="{transform:'rotate('+divideCircles24.initAngle+'deg)', '-webkit-transition-duration': times}">
                    <div v-for="(item, index) in divideCircles24.number" class="other-item"
                         v-bind:style="{transform: 'rotate('+divideCircles24.avgAngle*(index)+'deg)' }">
                    </div>
                </div>
            </div>
        </div>


    </div>
</div>


<script src="../vue/vue2.js"></script>
<script>
    window.onload = function () {
        let vue = new Vue({
            el: '#app',
            data: {
                floor1: [
                    {
                        content: "离"
                    },
                    {
                        content: "坤"
                    },
                    {
                        content: "兑"
                    },
                    {
                        content: "乾"
                    },
                    {
                        content: "坎"
                    },
                    {
                        content: "艮"
                    },
                    {
                        content: "震"
                    },
                    {
                        content: "巽"
                    }
                ],
                floor2: [
                    {
                        content: "☲"
                    },
                    {
                        content: "☷"
                    },
                    {
                        content: "☱"
                    },
                    {
                        content: "☰"
                    },
                    {
                        content: "☵"
                    },
                    {
                        content: "☶"
                    },
                    {
                        content: "☳"
                    },
                    {
                        content: "☴"
                    }
                ],
                floor3: [
                    {
                        content: "午"
                    },
                    {
                        content: "丁"
                    },
                    {
                        content: "未"
                    },
                    {
                        content: "坤"
                    },
                    {
                        content: "申"
                    },
                    {
                        content: "庚"
                    },
                    {
                        content: "酉"
                    },
                    {
                        content: "辛"
                    },
                    {
                        content: "戌"
                    },
                    {
                        content: "乾"
                    },
                    {
                        content: "亥"
                    },
                    {
                        content: "壬"
                    },
                    {
                        content: "子"
                    },
                    {
                        content: "癸"
                    },
                    {
                        content: "丑"
                    },
                    {
                        content: "艮"
                    },
                    {
                        content: "寅"
                    },
                    {
                        content: "甲"
                    },
                    {
                        content: "卯"
                    },
                    {
                        content: "乙"
                    },
                    {
                        content: "辰"
                    },
                    {
                        content: "巽"
                    },
                    {
                        content: "巳"
                    },
                    {
                        content: "丙"
                    }
                ],
                floor4: [
                    {
                        content: "南"
                    },
                    {
                        content: "西南"
                    },
                    {
                        content: "西"
                    },
                    {
                        content: "西北"
                    },
                    {
                        content: "北"
                    },
                    {
                        content: "东北"
                    },
                    {
                        content: "东"
                    },
                    {
                        content: "东南"
                    }
                ],
                floor5:[
                    {
                        content: ""
                    },{
                        content: "坤"
                    },{
                        content: ""
                    },{
                        content: "庚丁"
                    },{
                        content: ""
                    },{
                        content: "坤"
                    },{
                        content: ""
                    },{
                        content: "乾"
                    },{
                        content: ""
                    },{
                        content: "壬辛"
                    },{
                        content: ""
                    },{
                        content: "乾"
                    },{
                        content: ""
                    },{
                        content: "艮"
                    },{
                        content: ""
                    },{
                        content: "甲癸"
                    },{
                        content: ""
                    },{
                        content: "艮"
                    },{
                        content: ""
                    },{
                        content: "巽"
                    },{
                        content: ""
                    },{
                        content: "丙乙"
                    },{
                        content: ""
                    },{
                        content: "巽"
                    }
                ],
                floor6: [
                    {
                        content: "文"
                    },
                    {
                        content: "武"
                    },
                    {
                        content: "贞"
                    },
                    {
                        content: "辅"
                    },
                    {
                        content: "破"
                    },
                    {
                        content: "贞"
                    },
                    {
                        content: "武"
                    },
                    {
                        content: "巨"
                    },
                    {
                        content: "文"
                    },
                    {
                        content: "禄"
                    },
                    {
                        content: "贞"
                    },
                    {
                        content: "文"
                    },
                    {
                        content: "破"
                    },
                    {
                        content: "破"
                    },
                    {
                        content: "武"
                    },
                    {
                        content: "贪"
                    },
                    {
                        content: "文"
                    },
                    {
                        content: "禄"
                    },
                    {
                        content: "贞"
                    },
                    {
                        content: "辅"
                    },
                    {
                        content: "破"
                    },
                    {
                        content: "巨"
                    },
                    {
                        content: "武"
                    },
                    {
                        content: "贪"
                    }
                ],
                floor7: [
                    {
                        content: "天马"
                    },
                    {
                        content: "南极"
                    },
                    {
                        content: "天常"
                    },
                    {
                        content: "天钱"
                    },
                    {
                        content: "天关"
                    },
                    {
                        content: "天汉"
                    },
                    {
                        content: "少微"
                    },
                    {
                        content: "天乙"
                    },
                    {
                        content: "天魁"
                    },
                    {
                        content: "天厩"
                    },
                    {
                        content: "天皇"
                    },
                    {
                        content: "天辅"
                    },
                    {
                        content: "阳光"
                    },
                    {
                        content: "北道"
                    },
                    {
                        content: "天厨"
                    },
                    {
                        content: "天市"
                    },
                    {
                        content: "天培"
                    },
                    {
                        content: "天苑"
                    },
                    {
                        content: "天命"
                    },
                    {
                        content: "天官"
                    },
                    {
                        content: "天罡"
                    },
                    {
                        content: "太乙"
                    },
                    {
                        content: "天屏"
                    },
                    {
                        content: "太微"
                    }
                ],
                floor8: [
                    {
                        content: "小寒"
                    },
                    {
                        content: "大寒"
                    },
                    {
                        content: "立春"
                    },
                    {
                        content: "雨水"
                    },
                    {
                        content: "惊蛰"
                    },
                    {
                        content: "春分"
                    },
                    {
                        content: "清明"
                    },
                    {
                        content: "谷雨"
                    },
                    {
                        content: "立夏"
                    },
                    {
                        content: "小满"
                    },
                    {
                        content: "芒种"
                    },
                    {
                        content: "夏至"
                    },
                    {
                        content: "小暑"
                    },
                    {
                        content: "大暑"
                    },
                    {
                        content: "立秋"
                    },
                    {
                        content: "处暑"
                    },
                    {
                        content: "白露"
                    },
                    {
                        content: "秋分"
                    },
                    {
                        content: "寒露"
                    },
                    {
                        content: "霜降"
                    },
                    {
                        content: "立冬"
                    },
                    {
                        content: "小雪"
                    },
                    {
                        content: "大雪"
                    },
                    {
                        content: "冬至"
                    }
                ],
                floor1Rotate: -90,
                floor2Rotate: -90,
                floor3Rotate: -90,
                floor4Rotate: -90,
                floor5Rotate: -90,
                floor6Rotate: -90,
                floor7Rotate: -90,
                floor8Rotate: 82.5,
                floor9Rotate: -90,
                floor10Rotate: -90,
                divideCircles8:{
                    number: 8,
                    initAngle: 22.5,
                    avgAngle: 360/8
                },
                divideCircles24:{
                    number: 24,
                    initAngle: 7.5,
                    avgAngle: 360/24
                },
                times:'1.5s',
            },
            created: function () {
                this.initClock();
                this.start();
            },
            methods: {
                initClock: function () {
                    // 初始化先天八卦
                    this.initLocation(this.floor1, 360 / 8, 40);
                    this.initLocation(this.floor2, 360 / 8, 70);
                    this.initLocation(this.floor3, 360 / 24, 100);
                    this.initLocation(this.floor4, 360 / 8, 130);
                    this.initLocation(this.floor5, 360 / 24, 160);
                    this.initLocation(this.floor6, 360 / 24, 190);
                    this.initLocation(this.floor7, 360 / 24, 220);
                    this.initLocation(this.floor8, 360 / 24, 250);

                },
                // 初始化位置
                initLocation: function (arr, deg, r) {
                    for (let i = 0; i < arr.length; i++) {
                        let rotateDeg = i * deg;
                        let translateX = Math.cos(rotateDeg * (Math.PI / 180)) * r;
                        let translateY = Math.sin(rotateDeg * (Math.PI / 180)) * r;
                        arr[i].translateX = translateX;
                        arr[i].translateY = translateY;
                        arr[i].rotate = rotateDeg;
                        arr[i].active = false;
                    }
                },
                getRandomInt: function (min, max) {
                    min = Math.ceil(min);
                    max = Math.floor(max);
                    return Math.floor(Math.random() * (max - min + 1)) + min;
                },
                rotateClock: function () {
                    this.floor1Rotate = this.getRandomInt(1, 24) * (360 / 8);
                    this.floor2Rotate = this.getRandomInt(1, 24) * (360 / 8);
                    this.floor3Rotate = this.getRandomInt(1, 24) * (360 / 24);
                    this.floor4Rotate = this.getRandomInt(1, 24) * (360 / 8);
                    this.floor5Rotate = this.getRandomInt(1, 24) * (360 / 8);
                    this.floor6Rotate = this.getRandomInt(1, 24) * (360 / 8);
                    this.floor7Rotate = this.getRandomInt(1, 24) * (360 / 8);
                    this.floor8Rotate = (this.getRandomInt(1, 24) * (360 / 8))+7.5;
                },
                start: function () {
                    let task;
                    clearInterval(task);
                    let _this = this;
                    task = setInterval(function () {
                        _this.rotateClock();
                    }, 1500);
                }

            }
        })
    }
</script>
</body>
</html>
